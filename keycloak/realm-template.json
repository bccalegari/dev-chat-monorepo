{
  "realm": "${KEYCLOAK_REALM_NAME}",
  "enabled": true,

  "registrationAllowed": true,
  "registrationEmailAsUsername": true,
  "loginWithEmailAllowed": true,
  "editUsernameAllowed": true,
  "duplicateEmailsAllowed": false,
  "verifyEmail": true,
  "resetPasswordAllowed": true,
  "rememberMe": true,

  "bruteForceProtected": true,
  "permanentLockout": false,
  "maxFailureWaitSeconds": 900,
  "waitIncrementSeconds": 60,
  "quickLoginCheckMilliSeconds": 1000,
  "minimumQuickLoginWaitSeconds": 60,
  "maxDeltaTimeSeconds": 43200,
  "failureFactor": 5,

  "passwordPolicy": "length(8) and digits(1) and lowerCase(1) and upperCase(1) and specialChars(1)",

  "smtpServer": {
    "host": "${KEYCLOAK_SMTP_HOST}",
    "port": "${KEYCLOAK_SMTP_PORT}",
    "from": "${KEYCLOAK_SMTP_FROM}",
    "auth": "true",
    "ssl": "true",
    "user": "${KEYCLOAK_SMTP_USERNAME}",
    "password": "${KEYCLOAK_SMTP_PASSWORD}",
    "replyToDisplayName": "devChat",
    "replyTo": "${KEYCLOAK_SMTP_FROM}"
  },

  "requiredActions": [
    {
      "alias": "CONFIGURE_TOTP",
      "name": "Configure OTP",
      "providerId": "CONFIGURE_TOTP",
      "enabled": true,
      "defaultAction": true,
      "priority": 20,
      "config": {}
    },
    {
      "alias": "delete_account",
      "name": "Delete Account",
      "providerId": "delete_account",
      "enabled": true,
      "defaultAction": false,
      "priority": 60,
      "config": {}
    },
    {
      "alias": "VERIFY_EMAIL",
      "name": "Verify Email",
      "providerId": "VERIFY_EMAIL",
      "enabled": true,
      "defaultAction": true,
      "priority": 61,
      "config": {}
    },
    {
      "alias": "delete_credential",
      "name": "Delete Credential",
      "providerId": "delete_credential",
      "enabled": true,
      "defaultAction": true,
      "priority": 62,
      "config": {}
    },
    {
      "alias": "UPDATE_PASSWORD",
      "name": "Update Password",
      "providerId": "UPDATE_PASSWORD",
      "enabled": true,
      "defaultAction": false,
      "priority": 63,
      "config": {}
    },
    {
      "alias": "CONFIGURE_RECOVERY_AUTHN_CODES",
      "name": "Recovery Authentication Codes",
      "providerId": "CONFIGURE_RECOVERY_AUTHN_CODES",
      "enabled": true,
      "defaultAction": true,
      "priority": 66,
      "config": {}
    }
  ],

  "clients": [
    {
      "clientId": "${KEYCLOAK_CLIENT_ID}",
      "enabled": true,
      "protocol": "openid-connect",
      "redirectUris": [
        "${KEYCLOAK_REDIRECT_URI}"
      ],
      "publicClient": false,
      "secret": "${KEYCLOAK_CLIENT_SECRET}",
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": true,
      "webOrigins": ["*"],
      "attributes": {
        "post.logout.redirect.uris": "${KEYCLOAK_LOGOUT_REDIRECT_URI}"
      }
    }
  ],

  "eventsEnabled": true,
  "adminEventsEnabled": true,
  "adminEventsDetailsEnabled": true,
  "eventsListeners": ["jboss-logging", "email"]
}
